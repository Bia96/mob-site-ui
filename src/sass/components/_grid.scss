/* Grid
  =============== */

// Mobile first grids are 100% width
[class^="column"] { 
	flex: 1; 
  margin-bottom: 1.5rem;
}

// Column on mobile
.row, .row-large {
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
}

@include breakpoint {
  // Add padding on desktop
  [class^="column"] {
  	padding-left: 1rem; 
    padding-right: 1rem;
    margin-bottom: 0;
  } 
  // Add columns on desktop
	.row {
	  display: flex;
	  flex-direction: row;
	  flex-wrap: nowrap;
  }
}

@include large-breakpoint {
  // Add padding on desktop
  [class^="column"] {
  	padding-left: 1rem; 
    padding-right: 1rem;
    margin-bottom: 0;
  } 
  // Add columns on desktop
	.row-large {
	  display: flex;
	  flex-direction: row;
	  flex-wrap: nowrap;
  }
}

// Run a loop 10 times to get multiples of 10
@for $i from 1 through 9 {
	$width: $i;
	
	.column-#{$i * 10} {
		flex: $width;
	}
}
// 1/4 and 1/3 fractions
.column-25 { flex: (1/4) * 10; }
.column-33 { flex: (1/3) * 10; }
.column-66 { flex: (2/3) * 10; }
.column-75 { flex: (3/4) * 10; }

// Run a loop 10 times to get multiples of 10
@include breakpoint {
	.row {
		@for $i from 1 through 9 {
			$width: $i;
			.column-#{$i * 10} {
				max-width: percentage($width) * .1;
			}	
		} 
	// 1/4 and 1/3 fractions
	.column-25 { max-width: 25%; }
	.column-33 { max-width: 33.3333%; }
	.column-66 { max-width: 66.6667%; }
	.column-75 { max-width: 75%; }
	}
}

// Run a loop 10 times to get multiples of 10
@include large-breakpoint {
	.row-large {
		@for $i from 1 through 9 {
			$width: $i;
			.column-#{$i * 10} {
				max-width: percentage($width) * .1;
			}	
		} 
	// 1/4 and 1/3 fractions
	.column-25 { max-width: 25%; }
	.column-33 { max-width: 33.3333%; }
	.column-66 { max-width: 66.6667%; }
	.column-75 { max-width: 75%; }
	}
}

// Offsets
// Run a loop 10 times to get a percentage of every multiple of ten
@include breakpoint {
	.row {
		@for $i from 1 through 9 {
			$margin: $i * 10%;

			.offset-#{$i * 10} {
				margin-left: $margin; //margin-left: calc(#{$margin} + 1rem);
			}
		}
		 // 1/4 and 1/3 fractions
		.offset-25 { margin-left: 25%; }
		.offset-33 { margin-left: 33%; }
		.offset-66 { margin-left: 66%; }
		.offset-75 { margin-left: 75%; } 
	}
}

// Run a loop 10 times to get a percentage of every multiple of ten
@include large-breakpoint {
	.row-large {
		@for $i from 1 through 9 {
			$margin: $i * 10%;

			.offset-#{$i * 10} {
				margin-left: $margin; //margin-left: calc(#{$margin} + 1rem);
			}
		}
		 // 1/4 and 1/3 fractions
		.offset-25 { margin-left: 25%; }
		.offset-33 { margin-left: 33%; }
		.offset-66 { margin-left: 66%; }
		.offset-75 { margin-left: 75%; } 
	}
}

// Repeating list grid
[class^="grid"] {
	display: flex;
	flex-wrap: wrap;
  flex-direction: column;
	> .cell {
		flex: 1;
	}
}

@include breakpoint {
  [class^="grid"] {
    flex-direction: row;
    > .cell {
      padding-left: 1rem;
      padding-right: 1rem;
    }
  }
  // Run a loop 8 times for repeating grid possiblities
  @for $i from 1 through 8 {
    $percent: percentage(1/$i);

    .grid-#{$i} {
      > .cell,  {
        min-width: $percent;
      }
    }
  }
}

// Prevent mobile breakpoint with no-collapse class
.no-collapse {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap; 
}

// Gutters
.no-collapse.gutters {
	> [class^="column"] ~ [class^="column"] {
  	margin-left: 1rem;
	}
}
.gutters [class^="column"] ~ [class^="column"] {
  margin-left: 0;
}
@include breakpoint {
  .gutters [class^="column"] ~ [class^="column"] {
  margin-left: 1rem;
	}
}

